webpackJsonp([0xae47403233a9],{813:function(e,t){e.exports={data:{post:{id:"/home/laiuppa/Desktop/fisctf/blog/content/posts/2018-11-21--ezctf-full-stack/index.md absPath of file >>> MarkdownRemark",html:'<h3>Intro</h3>\n<p>Ever sit down to learn something and at first the examples are great, but then when it comes to getting advanced — you’re lost wondering what happened inbetween? When learning I always found it easy to get started, but hard to get anywhere meaningful as all the examples felt like this picture</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/owl-756ac987db322938e134d8e14f7d37f7-f54b5.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 610px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB7U2zRpBFQuD/xAAYEAACAwAAAAAAAAAAAAAAAAABIAMREv/aAAgBAQABBQI2khyv/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFRABAQAAAAAAAAAAAAAAAAAAIDH/2gAIAQEABj8CEP8A/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIRAxkf/aAAgBAQABPyEpxhnq31Vf0QbLjHef/9oADAMBAAIAAwAAABCXF0H/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBxQVFh/9oACAEBAAE/EBDViEVIXhTh+w7cmEK67gANJcaOGeyk6hon/9k=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Owl"\n        title=""\n        src="/static/owl-756ac987db322938e134d8e14f7d37f7-f54b5.jpg"\n        srcset="/static/owl-756ac987db322938e134d8e14f7d37f7-47035.jpg 200w,\n/static/owl-756ac987db322938e134d8e14f7d37f7-12edc.jpg 400w,\n/static/owl-756ac987db322938e134d8e14f7d37f7-f54b5.jpg 610w"\n        sizes="(max-width: 610px) 100vw, 610px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>It was always hard to find comprehensive code examples that covered a wide range of topics, so I figured I would share this project in hopes someone takes away some newfound information or motivation.</p>\n<hr>\n<h3>Pre-Reqs</h3>\n<p>All the pieces at work in the project come from the below technologies and documentation.</p>\n<p>In short what I’ve done here is written my own web app, conformed it to the specs demonstrated in the <em>Flask blog</em> tutorial, then added my own supporting structures around it. </p>\n<p>Whenever there was a need for a specific feature, I would check the following docs to make sure I wasn’t reinventing the wheel. Otherwise it was poignant to roll my own code for the feature. </p>\n<ol>\n<li><a href="https://www.tutorialspoint.com/sdlc/sdlc_overview.htm">Theory         - Software Development Life Cycle</a></li>\n<li><a href="https://www.sqlalchemy.org/">Database       - SQLAlchemy</a></li>\n<li><a href="https://pymysql.readthedocs.io/en/latest/">Database       - PyMySql</a></li>\n<li><a href="http://flask.pocoo.org/docs/1.0/tutorial/">Back End       - Flask Tutorial</a></li>\n<li><a href="https://getbootstrap.com/docs/4.1/getting-started/introduction/">Front End      - Bootstrap4</a></li>\n<li><a href="http://jinja.pocoo.org/docs/2.10/">Front End      - Jinja2/Flask</a></li>\n<li><a href="http://flask.pocoo.org/docs/1.0/tutorial/tests/">Tests          - PyTests/Flask</a></li>\n<li><a href="https://selenium-python.readthedocs.io/">Tests          - UnitTest/Selenium</a></li>\n<li><a href="https://docs.ansible.com/">Automation     - Ansible</a></li>\n<li><a href="https://www.terraform.io/docs/index.html">AWS Deployment - Terraform</a></li>\n</ol>\n<p>Sometimes you may find features in libraries that kind of meet your use case, if you’re lucky you can extend or build upon their code to make it work for you. </p>\n<hr>\n<h3>EZCTF</h3>\n<p>Coming back from DEFCON I was beyond amped to write some code. It was about time to finally complete a full stack web project. Having participated in the OPENCTF at DC26, I had a great idea. Why not make a little hacking game to play with some colleagues? </p>\n<p><strong>The mission of this writeup:</strong> by showing some different aspects of creating a webapp that isnt a standard example, I hope to illustrate different ways basic concepts come together to achieve more nuanced features. Getting started was never a problem, but we’ve all spent alot of time staring at the blinking cursor wondering what next.</p>\n<p>So what is a CTF?</p>\n<blockquote>\n<p>Capture the Flag (CTF) is a kind of computer security competition. CTF contests are usually designed to serve as an educational exercise to give participants experience in securing a machine, as well as conducting and reacting to the sort of attacks found in the real world.</p>\n</blockquote>\n<p>Having a clear cut goal from the beginning is key to building clean code. We want to set our scope and stick to it.</p>\n<p>In our case, all we want is to make a web application that will receive flags and track a user’s score on the scoreboard.</p>\n<p>For added robustness we will add some admin features and tools to make our lives easier. Without further ado, lets dive in.</p>\n<p><a href="https://github.com/AnthonyLaiuppa/ezctf">Incase you’d like to just read the code, here you go</a></p>\n<hr>\n<p><strong>Project Directory Structure</strong></p>\n<p>Theres obviously many more subdirectories, but for explanation we only need to concern ourselves with these four.</p>\n<div class="gatsby-highlight" data-language="text">\n      <pre class="language-text"><code class="language-text">ezctf\n├── ezctf-alpha\n├── ezctf-ansible\n├── ezctf-terraform\n├── linted_ctf\n39 directories, 71 files\n---</code></pre>\n      </div>\n<ul>\n<li>alpha     - The first version of the app where all functionality was prototyped</li>\n<li>linted    - The cleaned up version of the app where all functionality is modular and code coverage is provided by Tests</li>\n<li>Ansible   - The Configuration Management tools used to configure Vagrant and Linux to run our application</li>\n<li>Terraform - Infrastructure As Code providing us with both infrastructure deployment and provisioning</li>\n</ul>\n<hr>\n<h3>Back End</h3>\n<p>Due to the ease of use and speed of prototyping you can achieve, <code class="language-text">Python</code> was the natural choice for the back end. Here we use <code class="language-text">Flask</code> as it has minimal overhead allowing us to pick and choose our pieces. </p>\n<p>This is an overly simplistic explanation of the back end, if you want to learn how <code class="language-text">Flask</code> works read the linked above tut.</p>\n<p>Originally in the alpha everything was in one <code class="language-text">app.py</code> file, thats obviously not great, so we split it out. Using <code class="language-text">Blueprints</code> from the <code class="language-text">Flask</code> tutorial we wind up with 3 files running our app.</p>\n<div class="gatsby-highlight" data-language="text">\n      <pre class="language-text"><code class="language-text">app/\n├── auth.py\n├── cruds.py\n├── extensions.py\n├── __init__.py</code></pre>\n      </div>\n<p>The <code class="language-text">__init__.py</code> provides an entry point for <code class="language-text">Gunicorn</code>, which is what will handle the <code class="language-text">HTTP</code> requests so that Flask doesnt have to, Gunicorn is typically what goes infront of Flask or Django in production environments.</p>\n<p><code class="language-text">auth.py</code> is fairly self explanatory, it handles <code class="language-text">authentication</code> for our users. </p>\n<p><code class="language-text">cruds.py</code> is the bulk of our logic and the most important part here. When planning functionality of our app, <code class="language-text">CRUDS</code> provides a great starting point. </p>\n<ul>\n<li>Create</li>\n<li>Read</li>\n<li>Update</li>\n<li>Delete</li>\n</ul>\n<p>This helps us layout initial functionality for our app, from there we can begin to add CTF specific features — such as when <code class="language-text">Updating</code> a <code class="language-text">Challenge</code> to show add a completion, update the users score who solved it as well.</p>\n<div class="gatsby-highlight" data-language="python">\n      <pre class="language-python"><code class="language-python"><span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">\'POST\'</span> <span class="token operator">and</span> form<span class="token punctuation">.</span>validate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>\n\n    submitted_flag <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">\'flag\'</span><span class="token punctuation">]</span>\n\n    <span class="token keyword">if</span> submitted_flag <span class="token operator">==</span> flag <span class="token operator">and</span> <span class="token builtin">int</span><span class="token punctuation">(</span>solved<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">\'f\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>\n\n        <span class="token comment">#Add the flag to the users so we can keep track of their challenges</span>\n        update_flags <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">\'UPDATE users set flags = JSON_SET(flags, %s, 1) WHERE username = %s\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>cid<span class="token punctuation">,</span><span class="token punctuation">[</span>session<span class="token punctuation">[</span><span class="token string">\'username\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        mysql<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n        <span class="token comment">#Update the users score to show they solved the challenge</span>\n        get_score <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">\'SELECT score FROM users WHERE username = %s\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>session<span class="token punctuation">[</span><span class="token string">\'username\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n        user_score <span class="token operator">=</span> cur<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>\n        new_score <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>user_score<span class="token punctuation">[</span><span class="token string">\'score\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">int</span><span class="token punctuation">(</span>article<span class="token punctuation">[</span><span class="token string">\'ch_score\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        updated_score <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">\'UPDATE users set score = %s WHERE username = %s\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>new_score<span class="token punctuation">,</span><span class="token punctuation">[</span>session<span class="token punctuation">[</span><span class="token string">\'username\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        mysql<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n        <span class="token comment">#Update the challenges number of solves</span>\n        get_solves <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">\'SELECT ch_solves from challenges WHERE ch_id = %s\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">id</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        solves <span class="token operator">=</span>  cur<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>\n        update_solves <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>solves<span class="token punctuation">[</span><span class="token string">\'ch_solves\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> \n        updated_solves <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">\'UPDATE challenges set ch_solves = %s where ch_id =%s\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>update_solves<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">id</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        mysql<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n        flash<span class="token punctuation">(</span><span class="token string">\'Good job! Your score has been updated\'</span><span class="token punctuation">,</span><span class="token string">\'success\'</span><span class="token punctuation">)</span>\n        cur<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">\'cruds.dashboard\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n    <span class="token keyword">else</span><span class="token punctuation">:</span>\n        cur<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>\n        flash<span class="token punctuation">(</span><span class="token string">\'Incorrect answer\'</span><span class="token punctuation">,</span> <span class="token string">\'danger\'</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>So theres some of our backend functioanlity to handle scoring, we can elaborate more on the <code class="language-text">SQL</code> in the database portion. When users solve the challenges all of this is put into the <code class="language-text">Scoreboard</code> page, a fixture CTFs everywhere. </p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-87e3f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 98.23834196891193%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y51U247TMBD1pywPSLzAIgHfuAghLYKvo7ulW5pLkzZXJ2mTNj7MmZAVoKSVsHQUZ67HM2Ob99+A2y8DXt87vBF8ENnLTw43dw4vPmISN3fAq8/AW/F79xXiN8DEeYNtYhFnNY490JwAe3SoO4fmCurWwRJiX7UDTByFCAMfvrfRry0LDMthes3Jh2W2UYyN52P1tMbi4RFplsGJT9+7STBc79ys3pRlic3GQ1XVOJ1OaJoG1lrYqpLv36hEtvE8ZJKU9mpHndpa1HXNgBZJkqLrOrQCfhl4CtTRfk5PmDwvEIThcwaymEatTNI0m7Wr6waGgcjwfD6jI4sL2cmQQcf9vzplWBQlPN+XuuRaP2afxqArimLWjnJluN/vVdC27VXQibWe0pGlyfJcAiZK93g8qsMllEKgORwmdQeRGx7BkzmM41hryaBzoANrOK3jt4VhM2jIGlHhZGiJuXVJpzflkuP/wERRhAe5cqvVE9brn3hcLrUE15jMMuTVi6R+bAwbtNvt9D7z+EPnOy3JWEPWih2txlrKnuV6nkMGICgYO0XD3W6P5fIHmJBzuk8ShOFWbTlm+pCkqe6/Lxaq1zkkC3aOTMYsbBTlDN73ve4pIzOW4s8GcoR4okIS08bw5QiCEH4Q6Ctif99LGm23ke7JguOVS0n0X9iwRExElvQb77dhNl47KlhLOg0sBmMyHE7QKiv9t8NzRbvxYSA7nu4X6B75NrX95qcAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Scoreboard"\n        title=""\n        src="/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-48538.png"\n        srcset="/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-bed0f.png 200w,\n/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-5fd34.png 400w,\n/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-48538.png 800w,\n/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-87e3f.png 965w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<hr>\n<h3>Front End</h3>\n<p>Front end design is not a favorite of mine, so we’ll let <code class="language-text">Bootstrap4</code> and <code class="language-text">Jinja2</code> do all the work for us.</p>\n<p>The goal here isnt to teach you to make a front end or use <code class="language-text">Jinaj2</code> like a pro, its to hopefully give you something to draw upon when you’re trying to think of the code you need to put in your application. </p>\n<p>In short <code class="language-text">Jinja2</code> is a templating engine, so we can give it a placeholders and <code class="language-text">Flask</code> will inject the content and render it as HTML on the front end. </p>\n<p>Next up, we’ve got the <code class="language-text">Challenges</code> page laid out in a jeopardy style. It was a mild pain at first to make the grid layout but a little help from the Modulus operator alongside the <code class="language-text">Jinja2</code> docs and we’ve got the code to render it in our desired layout.</p>\n<div class="gatsby-highlight" data-language="html">\n      <pre class="language-html"><code class="language-html">{% for challenge in challenges %}\n\n  {% if (loop.index) % 3 == 1 %}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  {% endif %}  \n \n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          \n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          \n\n       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n  {% if loop.index % 3 == 0 or loop.last  %}\n\n    {% if loop.last and loop.index % 3 == 1 %}\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    {% endif %}\n\n    {% if loop.last and loop.index % 3 == 2 %}\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    {% endif %}\n\n   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row-close<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- /row --></span> \n        \n  {% endif %} \n{% endfor %}</code></pre>\n      </div>\n<p>Which turns out to look like this </p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-fa216.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 79.65056526207606%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACXElEQVQ4y51TTW/TQBDd/wIXTkjlQ+IngjhAEeLKDThw4IKQQKilUlsiRIEUClXaOIlrO1/+9tpe7+5jdt20oRGoYqSnSWZ23s7MPrM7T4Cbj4Fbp1hbB24/0rh6D7hyV/8T1x9orD3UuLHe+mv3NVhvOEb3cICDYxcHRyOEWY1cAFxo5LVGVhuvUBC4jbcw8bQilApZZc6AzgAsjWaIAxfJdArPdVFXHK0prJpewkVTNs76YYln+zFebW/j248uhGhQcA7ZCLzrRXj+ZYqd3Q46nz6D8xKirhHlFZ7uTfH26wCbG5sYjFxbVwsB5swDvDzYwetfH9AfD6AahZqKlJTYcr7jzeEefC/AbDazcdk0NGaBF/tb6I76GFNuSrmiKCCphtVlBVmUZ12boqaR0FqDJyl4nNiCsizPhjOkPEyQxjHmYYggGCPPc5tjhtkPPHi+hzTLkKZEQiMbQkM0GA7h+4H1prAhMkGjHTsO1QVwT04wHNJjErElLIXCJJOomj8XbQh930e/34fn+RiORuQ9KNWuJKAmiiJHTg3F1GmaZjbHaiKaFyBCRQEJSTAJQ5jmBXhZ298Gi3gjFWaFRtlgpQnWSmBVIlorkAAwodU0qpXKgljS/4hrq9XFReo0x7xI4P0R0Nl30Ol8xK67h97csXfYg+qcaIFlPV7MsYTk/dNN4QYzWuwcUx4iqTLTIv5mJrXARWNZlsI57mEyGSOKIsRhTBpU5u6V2y8DZiTi0idnXipJEkTkF5o7H/HyxoTUNKJZ/OqLLftLExodBilJQCj7su1DqP8m/A2Qf8ASuxBmgQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Challenge"\n        title=""\n        src="/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-48538.png"\n        srcset="/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-bed0f.png 200w,\n/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-5fd34.png 400w,\n/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-48538.png 800w,\n/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-fa216.png 973w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Hitting the floor of our front end, the last thing to look at is the <code class="language-text">Challenges</code> page. We use <code class="language-text">Jinaj2</code> and <code class="language-text">Flask</code> to render parts of page based on a users context such as; <code class="language-text">Is_Admin</code> or <code class="language-text">Is_Logged_In</code>.</p>\n<p>Achieved easily by using some simple conditionals and passing the <code class="language-text">Session</code> object into the template.</p>\n<div class="gatsby-highlight" data-language="html">\n      <pre class="language-html"><code class="language-html">{% if session.logged_in %}\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Submit Flag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      {{ render_field(form.flag, class_="form-control") }}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-success<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n    {% if article.ch_id == 1 %}\n     <span class="token comment">&lt;!-- Youre very close but Im a little more tricky than that. --></span>\n    {% endif %}\n\n   {% if session.admin %}\n     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span> Admin panel <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>\n   {% endif %}\n\n   {% else %}\n\n     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span> {{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n\n{% endif %}</code></pre>\n      </div>\n<h4>Logged out view</h4>\n<hr>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-33242.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 37.230769230769226%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA/klEQVQoz43Q20rDQBCA4byEIuKVvVBf0wNYpS/l4VK90KKktLHYRNgmaZLNqWl2f7eJSEFiHfhY9jDDzFrHAzgyeldweKnp9TUnA83eGeyeaoNOO8b+ucm/Nvl9OLgAy/Ulb84nIi5JK0hKiApt1lb8rd3zc74p3nhvBcLDGb1SZBJdV6jVku7QbAtLpDCLIVxE+OECMff5mLnILMPLBdPEa+SrsqmnlEbpbtazW3I3ypk4U8YTB9u2ubm9Z/zu8CSGPM6HPIgX4qVsezRJf7GqIiWLA8IgIJKF+a+29bquf024rVhTMM8LEpkaslmzvGwvWY+gqFVtqH8VW/sCd5UHQGBsGn8AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="chal_logedout.png"\n        title=""\n        src="/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-48538.png"\n        srcset="/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-bed0f.png 200w,\n/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-5fd34.png 400w,\n/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-48538.png 800w,\n/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-33242.png 975w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>Logged in view</h3>\n<hr>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/challenge1-a6180c748447014b20ee874a8b1910c8-cd303.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 60.10050251256281%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz51STUvDQBTs//cveBI8eBX11qoIilpUEOnBtMlquon5aJLmq7vJ7ri7QlFISeyDOQR2Jm9m3igMIzxMn5CmGfS0bQshBKSUEFJsob+HzIhtKhRZjLquwTkHY2znYy3ah9E8kpgsAOJ6mNsOLMvC5dUNbJdgGr7ienlvkLHciIo+wWRdwqExqOfB8wPQYAVKfURxjKRIUTQVcl6iVbYHWW44Q12VyPM1ypqh4Dv9DrP8FQR4m83gkA8QQjRzMPk3DE9vKLmyIowGmqZRDcvenLqgeWZDO/vExL1DxWvzE30yQsp/4Y/grf+Mg5dDlV3xExXk4JvrLEU1AqaO2s8LuJQa20NvrrOUR7fB+fgd8dkFkqWn49xbzAiOVbEnpwSbo2OIaLXdbt/5BrlNqawtt24NAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="challenge1.png"\n        title=""\n        src="/static/challenge1-a6180c748447014b20ee874a8b1910c8-48538.png"\n        srcset="/static/challenge1-a6180c748447014b20ee874a8b1910c8-bed0f.png 200w,\n/static/challenge1-a6180c748447014b20ee874a8b1910c8-5fd34.png 400w,\n/static/challenge1-a6180c748447014b20ee874a8b1910c8-48538.png 800w,\n/static/challenge1-a6180c748447014b20ee874a8b1910c8-cd303.png 995w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<hr>\n<h3>Tests</h3>\n<blockquote>\n<p><strong>Test coverage</strong> — a measure used to describe the degree to which the source code of a program is executed when a particular test suite runs.</p>\n</blockquote>\n<p>We have two kinds of test coverage at play here. </p>\n<ol>\n<li>PyTest            - Used before committing code, based off the example laid out in the <code class="language-text">Flask</code> tutorial.</li>\n</ol>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/pytest-3412364dc9474bdf614a1be96ae6629b-11b75.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 11.08910891089109%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAT0lEQVQI12PQ9A1X9QqWdfaVsPeUdvQWt/OQdPAStXHjNLLlMbXnNrHnNLYFISNbKAMJMUg7eUs7+XAZ2zFomTBqmzFAkJYpAaRtxmRsAwAW9xNG0rikKQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Pytest"\n        title=""\n        src="/static/pytest-3412364dc9474bdf614a1be96ae6629b-48538.png"\n        srcset="/static/pytest-3412364dc9474bdf614a1be96ae6629b-bed0f.png 200w,\n/static/pytest-3412364dc9474bdf614a1be96ae6629b-5fd34.png 400w,\n/static/pytest-3412364dc9474bdf614a1be96ae6629b-48538.png 800w,\n/static/pytest-3412364dc9474bdf614a1be96ae6629b-b70ec.png 1200w,\n/static/pytest-3412364dc9474bdf614a1be96ae6629b-11b75.png 1515w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ol start="2">\n<li>UnitTest/Selenium - Used post deployment to check renders and verify page content.</li>\n</ol>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/selenium-ac04564d5424c05a9026fd1b764c8dec-65f29.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 634px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 53.94321766561514%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABxklEQVQoz4WSW1MaQRCF9ynRGDRGEHBR0LBkgIXZq3u/IETWMmqVlar8/19y7OmVEhNSefhqZmG655w+o91PFqiMHIVhojAFSimQjSbIex7WowzLyxCLi2tmdRXhdpjyb97RGG7jO9zD92jlIEChu1j2Y6yIhR4i63hclLQlrdFro4TJzhwEJybiU7mDObSk56AkNUXP5SZp1+KiQveQ00XluY+cvqPmDHFrTioE5P432AcGnM+jd9iElug2fvn3eJgt8exUeHYr/A5+8v52GONJ/sAj/bfok2W6sKIx3ImCm28aW1to8ZkFNceH6Q3WRsZqIzqsuD6eIO1YbF0pLdiJR5ansD4NueGfaN7JhAvVIbV6RwL+lzHjNJQNg1ENNmqUvToEsbXWe1IoETYpYd1H0rQRfZXIux4P2fwwwHzv6o2Pr9BeXbALbSVS3I0KrISPtfRR2T6ySxP+8ZQCsjk5FYgaQdIm+zSCqDX7t+VYt2hupO6cnkJ/jHggEOqCFaqU045dNyKyrsMvQO3VG+R0G1vUKVusoOwFSE/pcMvGzUXI6pQ9uU9K/lIz5Llunso2WtCewaYCp6GGT3M4qOEAdlj6Hy+jiETcVTCFcQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Pytest"\n        title=""\n        src="/static/selenium-ac04564d5424c05a9026fd1b764c8dec-65f29.png"\n        srcset="/static/selenium-ac04564d5424c05a9026fd1b764c8dec-9ddeb.png 200w,\n/static/selenium-ac04564d5424c05a9026fd1b764c8dec-73ce1.png 400w,\n/static/selenium-ac04564d5424c05a9026fd1b764c8dec-65f29.png 634w"\n        sizes="(max-width: 634px) 100vw, 634px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Oh would you look at that, a failure. We changed the <code class="language-text">About</code> page to be <code class="language-text">Rules</code> so we need to change our tests to match, hence the second one succeeding. </p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/drake_tests-12597075f944493f0bc7f35e136f337b-0975d.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 89.74609375%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQFAgP/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAAHx2YbCItclnwdUKqwKL//EAB0QAAICAQUAAAAAAAAAAAAAAAEDAAISBBEhMjP/2gAIAQEAAQUCzxuo7rEYQAnlQl++k8Z//8QAFhEAAwAAAAAAAAAAAAAAAAAAAxAy/9oACAEDAQE/ASyjSv/EABgRAAIDAAAAAAAAAAAAAAAAAAMQAREh/9oACAECAQE/AQ7NoC//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARMYH/2gAIAQEABj8CE1GWxUjBnY//xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMVEQQXGhwf/aAAgBAQABPyFz6cbEok4lBZcoQ6VDYFZPUFiwnr/Jh8uP/9oADAMBAAIAAwAAABCcCHz/xAAaEQACAgMAAAAAAAAAAAAAAAABEBEhMYHB/9oACAEDAQE/ECkKhYddX//EABkRAAMAAwAAAAAAAAAAAAAAAAEQIRExgf/aAAgBAgEBPxAxFiLbi//EAB0QAQADAAIDAQAAAAAAAAAAAAEAESExURBBofD/2gAIAQEAAT8QV9KE0qYzRAHxMurm3JUmBlGHcqECEo1s9jr6qJ5XMR+B34//2Q==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Drake on unit tests"\n        title=""\n        src="/static/drake_tests-12597075f944493f0bc7f35e136f337b-78f2b.jpg"\n        srcset="/static/drake_tests-12597075f944493f0bc7f35e136f337b-dce19.jpg 200w,\n/static/drake_tests-12597075f944493f0bc7f35e136f337b-c1413.jpg 400w,\n/static/drake_tests-12597075f944493f0bc7f35e136f337b-78f2b.jpg 800w,\n/static/drake_tests-12597075f944493f0bc7f35e136f337b-0975d.jpg 1024w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>For those familiar with test driven development — the above picture probably made you twitch a little, but after debugging failed tests you begin to understand how the creator mustve felt.</p>\n<p>You can run Selenium headless, which works great if we want to shove it into a CI/CD pipeline in order to validate our deployments.</p>\n<p>Otherwise running it with the Chrome Driver we can see the tests iterating over our application.</p>\n<p><img src="/chromdriver-e6b9f0facd4cbb33b14f82051357143a.gif" alt="db results"></p>\n<p>Each suite has its own structure and fixtures you can use to simplify to your testing, just go with what fits your use caser best.. </p>\n<p>In general it can be difficult to wrap your head around unit tests but by working them into your code you will be able to prevent against <code class="language-text">Undefined</code> behavior, which in alot of cases leads to security issues. My unit tests don’t hit 100% code coverage but in an ideal world that is what we would want to strive for. </p>\n<hr>\n<h3>To be continued</h3>\n<p>This post was dragging on quite a bit so check out part 2 for the remaining topics</p>\n<ul>\n<li>Databases</li>\n<li>Ansible</li>\n<li>Terraform</li>\n</ul>\n<p>Coming soon!</p>',
htmlAst:{type:"root",children:[{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Intro"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ever sit down to learn something and at first the examples are great, but then when it comes to getting advanced — you’re lost wondering what happened inbetween? When learning I always found it easy to get started, but hard to get anywhere meaningful as all the examples felt like this picture"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/owl-756ac987db322938e134d8e14f7d37f7-f54b5.jpg",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 610px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB7U2zRpBFQuD/xAAYEAACAwAAAAAAAAAAAAAAAAABIAMREv/aAAgBAQABBQI2khyv/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFRABAQAAAAAAAAAAAAAAAAAAIDH/2gAIAQEABj8CEP8A/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIRAxkf/aAAgBAQABPyEpxhnq31Vf0QbLjHef/9oADAMBAAIAAwAAABCXF0H/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBxQVFh/9oACAEBAAE/EBDViEVIXhTh+w7cmEK67gANJcaOGeyk6hon/9k='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"Owl",title:"",src:"/static/owl-756ac987db322938e134d8e14f7d37f7-f54b5.jpg",srcSet:["/static/owl-756ac987db322938e134d8e14f7d37f7-47035.jpg 200w","/static/owl-756ac987db322938e134d8e14f7d37f7-12edc.jpg 400w","/static/owl-756ac987db322938e134d8e14f7d37f7-f54b5.jpg 610w"],sizes:["(max-width:","610px)","100vw,","610px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"It was always hard to find comprehensive code examples that covered a wide range of topics, so I figured I would share this project in hopes someone takes away some newfound information or motivation."}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Pre-Reqs"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"All the pieces at work in the project come from the below technologies and documentation."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"In short what I’ve done here is written my own web app, conformed it to the specs demonstrated in the "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"Flask blog"}]},{type:"text",value:" tutorial, then added my own supporting structures around it. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Whenever there was a need for a specific feature, I would check the following docs to make sure I wasn’t reinventing the wheel. Otherwise it was poignant to roll my own code for the feature. "}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://www.tutorialspoint.com/sdlc/sdlc_overview.htm"},children:[{type:"text",value:"Theory         - Software Development Life Cycle"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://www.sqlalchemy.org/"},children:[{type:"text",value:"Database       - SQLAlchemy"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://pymysql.readthedocs.io/en/latest/"},children:[{type:"text",value:"Database       - PyMySql"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://flask.pocoo.org/docs/1.0/tutorial/"},children:[{type:"text",value:"Back End       - Flask Tutorial"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://getbootstrap.com/docs/4.1/getting-started/introduction/"},children:[{type:"text",value:"Front End      - Bootstrap4"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://jinja.pocoo.org/docs/2.10/"},children:[{type:"text",value:"Front End      - Jinja2/Flask"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://flask.pocoo.org/docs/1.0/tutorial/tests/"},children:[{type:"text",value:"Tests          - PyTests/Flask"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://selenium-python.readthedocs.io/"},children:[{type:"text",value:"Tests          - UnitTest/Selenium"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://docs.ansible.com/"},children:[{type:"text",value:"Automation     - Ansible"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://www.terraform.io/docs/index.html"},children:[{type:"text",value:"AWS Deployment - Terraform"}]}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Sometimes you may find features in libraries that kind of meet your use case, if you’re lucky you can extend or build upon their code to make it work for you. "}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"EZCTF"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Coming back from DEFCON I was beyond amped to write some code. It was about time to finally complete a full stack web project. Having participated in the OPENCTF at DC26, I had a great idea. Why not make a little hacking game to play with some colleagues? "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"The mission of this writeup:"}]},{type:"text",value:" by showing some different aspects of creating a webapp that isnt a standard example, I hope to illustrate different ways basic concepts come together to achieve more nuanced features. Getting started was never a problem, but we’ve all spent alot of time staring at the blinking cursor wondering what next."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"So what is a CTF?"}]},{type:"text",value:"\n"},{type:"element",tagName:"blockquote",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Capture the Flag (CTF) is a kind of computer security competition. CTF contests are usually designed to serve as an educational exercise to give participants experience in securing a machine, as well as conducting and reacting to the sort of attacks found in the real world."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Having a clear cut goal from the beginning is key to building clean code. We want to set our scope and stick to it."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"In our case, all we want is to make a web application that will receive flags and track a user’s score on the scoreboard."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"For added robustness we will add some admin features and tools to make our lives easier. Without further ado, lets dive in."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"a",properties:{href:"https://github.com/AnthonyLaiuppa/ezctf"},children:[{type:"text",value:"Incase you’d like to just read the code, here you go"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"Project Directory Structure"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Theres obviously many more subdirectories, but for explanation we only need to concern ourselves with these four."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"text"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-text"]},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"ezctf\n├── ezctf-alpha\n├── ezctf-ansible\n├── ezctf-terraform\n├── linted_ctf\n39 directories, 71 files\n---"}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"alpha     - The first version of the app where all functionality was prototyped"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"linted    - The cleaned up version of the app where all functionality is modular and code coverage is provided by Tests"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Ansible   - The Configuration Management tools used to configure Vagrant and Linux to run our application"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Terraform - Infrastructure As Code providing us with both infrastructure deployment and provisioning"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Back End"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Due to the ease of use and speed of prototyping you can achieve, "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Python"}]},{type:"text",value:" was the natural choice for the back end. Here we use "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Flask"}]},{type:"text",value:" as it has minimal overhead allowing us to pick and choose our pieces. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"This is an overly simplistic explanation of the back end, if you want to learn how "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Flask"}]},{type:"text",value:" works read the linked above tut."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Originally in the alpha everything was in one "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"app.py"}]},{type:"text",value:" file, thats obviously not great, so we split it out. Using "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Blueprints"}]},{type:"text",value:" from the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Flask"}]},{type:"text",value:" tutorial we wind up with 3 files running our app."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"text"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-text"]},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"app/\n├── auth.py\n├── cruds.py\n├── extensions.py\n├── __init__.py"}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"The "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"__init__.py"}]},{type:"text",value:" provides an entry point for "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Gunicorn"}]},{type:"text",value:", which is what will handle the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"HTTP"}]},{type:"text",value:" requests so that Flask doesnt have to, Gunicorn is typically what goes infront of Flask or Django in production environments."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"auth.py"}]},{type:"text",value:" is fairly self explanatory, it handles "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"authentication"}]},{type:"text",value:" for our users. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"cruds.py"}]},{type:"text",value:" is the bulk of our logic and the most important part here. When planning functionality of our app, "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"CRUDS"}]},{type:"text",value:" provides a great starting point. "}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Create"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Read"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Update"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Delete"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"This helps us layout initial functionality for our app, from there we can begin to add CTF specific features — such as when "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Updating"}]},{type:"text",value:" a "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Challenge"}]},{type:"text",value:" to show add a completion, update the users score who solved it as well."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"python"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-python"]},children:[{type:"element",tagName:"code",properties:{className:["language-python"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" request"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"method "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'POST'"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"and"}]},{type:"text",value:" form"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"validate"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:"\n\n    submitted_flag "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" request"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"form"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'flag'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"text",value:"\n\n    "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" submitted_flag "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=="}]},{type:"text",value:" flag "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"and"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","builtin"]},children:[{type:"text",value:"int"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"solved"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"0"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'f'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"!="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:"\n\n        "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"#Add the flag to the users so we can keep track of their challenges"}]},{type:"text",value:"\n        update_flags "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"execute"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'UPDATE users set flags = JSON_SET(flags, %s, 1) WHERE username = %s'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"cid"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"text",value:"session"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'username'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        mysql"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"connection"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"commit"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\n        "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"#Update the users score to show they solved the challenge"}]},{type:"text",value:"\n        get_score "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"execute"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'SELECT score FROM users WHERE username = %s'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"text",value:"session"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'username'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        user_score "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"fetchone"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        new_score "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","builtin"]},children:[{type:"text",value:"int"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"user_score"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'score'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"+"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","builtin"]},children:[{type:"text",value:"int"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"article"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'ch_score'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        updated_score "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"execute"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'UPDATE users set score = %s WHERE username = %s'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"new_score"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"text",value:"session"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'username'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        mysql"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"connection"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"commit"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\n        "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"#Update the challenges number of solves"}]},{type:"text",value:"\n        get_solves "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"execute"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'SELECT ch_solves from challenges WHERE ch_id = %s'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","builtin"]},children:[{type:"text",value:"id"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        solves "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:"  cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"fetchone"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        update_solves "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{
className:["token","builtin"]},children:[{type:"text",value:"int"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"solves"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'ch_solves'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"+"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1"}]},{type:"text",value:" \n        updated_solves "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"execute"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'UPDATE challenges set ch_solves = %s where ch_id =%s'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"update_solves"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"element",tagName:"span",properties:{className:["token","builtin"]},children:[{type:"text",value:"id"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        mysql"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"connection"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"commit"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\n        flash"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'Good job! Your score has been updated'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'success'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"close"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"return"}]},{type:"text",value:" redirect"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"url_for"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'cruds.dashboard'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\n    "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"else"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:":"}]},{type:"text",value:"\n        cur"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"close"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n        flash"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'Incorrect answer'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'danger'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"So theres some of our backend functioanlity to handle scoring, we can elaborate more on the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"SQL"}]},{type:"text",value:" in the database portion. When users solve the challenges all of this is put into the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Scoreboard"}]},{type:"text",value:" page, a fixture CTFs everywhere. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-87e3f.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 98.23834196891193%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y51U247TMBD1pywPSLzAIgHfuAghLYKvo7ulW5pLkzZXJ2mTNj7MmZAVoKSVsHQUZ67HM2Ob99+A2y8DXt87vBF8ENnLTw43dw4vPmISN3fAq8/AW/F79xXiN8DEeYNtYhFnNY490JwAe3SoO4fmCurWwRJiX7UDTByFCAMfvrfRry0LDMthes3Jh2W2UYyN52P1tMbi4RFplsGJT9+7STBc79ys3pRlic3GQ1XVOJ1OaJoG1lrYqpLv36hEtvE8ZJKU9mpHndpa1HXNgBZJkqLrOrQCfhl4CtTRfk5PmDwvEIThcwaymEatTNI0m7Wr6waGgcjwfD6jI4sL2cmQQcf9vzplWBQlPN+XuuRaP2afxqArimLWjnJluN/vVdC27VXQibWe0pGlyfJcAiZK93g8qsMllEKgORwmdQeRGx7BkzmM41hryaBzoANrOK3jt4VhM2jIGlHhZGiJuXVJpzflkuP/wERRhAe5cqvVE9brn3hcLrUE15jMMuTVi6R+bAwbtNvt9D7z+EPnOy3JWEPWih2txlrKnuV6nkMGICgYO0XD3W6P5fIHmJBzuk8ShOFWbTlm+pCkqe6/Lxaq1zkkC3aOTMYsbBTlDN73ve4pIzOW4s8GcoR4okIS08bw5QiCEH4Q6Ctif99LGm23ke7JguOVS0n0X9iwRExElvQb77dhNl47KlhLOg0sBmMyHE7QKiv9t8NzRbvxYSA7nu4X6B75NrX95qcAAAAASUVORK5CYII='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"Scoreboard",title:"",src:"/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-48538.png",srcSet:["/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-bed0f.png 200w","/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-5fd34.png 400w","/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-48538.png 800w","/static/scoreboard-6103268aa3847673d52b2cf6b8d068be-87e3f.png 965w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Front End"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Front end design is not a favorite of mine, so we’ll let "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Bootstrap4"}]},{type:"text",value:" and "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Jinja2"}]},{type:"text",value:" do all the work for us."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"The goal here isnt to teach you to make a front end or use "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Jinaj2"}]},{type:"text",value:" like a pro, its to hopefully give you something to draw upon when you’re trying to think of the code you need to put in your application. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"In short "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Jinja2"}]},{type:"text",value:" is a templating engine, so we can give it a placeholders and "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Flask"}]},{type:"text",value:" will inject the content and render it as HTML on the front end. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Next up, we’ve got the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Challenges"}]},{type:"text",value:" page laid out in a jeopardy style. It was a mild pain at first to make the grid layout but a little help from the Modulus operator alongside the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Jinja2"}]},{type:"text",value:" docs and we’ve got the code to render it in our desired layout."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"html"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-html"]},children:[{type:"element",tagName:"code",properties:{className:["language-html"]},children:[{type:"text",value:"{% for challenge in challenges %}\n\n  {% if (loop.index) % 3 == 1 %}\n    "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"row"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n  {% endif %}  \n \n      "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"col-sm"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n       "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"card"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n\n          "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"card-header"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n          \n          "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"card-body"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n          \n\n       "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n\n  {% if loop.index % 3 == 0 or loop.last  %}\n\n    {% if loop.last and loop.index % 3 == 1 %}\n            "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"col-sm"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n            "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"col-sm"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n    {% endif %}\n\n    {% if loop.last and loop.index % 3 == 2 %}\n            "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"col-sm"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n    {% endif %}\n\n   "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"id"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"row-close"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"<!-- /row -->"}]},{type:"text",value:" \n        \n  {% endif %} \n{% endfor %}"}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Which turns out to look like this "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-fa216.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 79.65056526207606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACXElEQVQ4y51TTW/TQBDd/wIXTkjlQ+IngjhAEeLKDThw4IKQQKilUlsiRIEUClXaOIlrO1/+9tpe7+5jdt20oRGoYqSnSWZ23s7MPrM7T4Cbj4Fbp1hbB24/0rh6D7hyV/8T1x9orD3UuLHe+mv3NVhvOEb3cICDYxcHRyOEWY1cAFxo5LVGVhuvUBC4jbcw8bQilApZZc6AzgAsjWaIAxfJdArPdVFXHK0prJpewkVTNs76YYln+zFebW/j248uhGhQcA7ZCLzrRXj+ZYqd3Q46nz6D8xKirhHlFZ7uTfH26wCbG5sYjFxbVwsB5swDvDzYwetfH9AfD6AahZqKlJTYcr7jzeEefC/AbDazcdk0NGaBF/tb6I76GFNuSrmiKCCphtVlBVmUZ12boqaR0FqDJyl4nNiCsizPhjOkPEyQxjHmYYggGCPPc5tjhtkPPHi+hzTLkKZEQiMbQkM0GA7h+4H1prAhMkGjHTsO1QVwT04wHNJjErElLIXCJJOomj8XbQh930e/34fn+RiORuQ9KNWuJKAmiiJHTg3F1GmaZjbHaiKaFyBCRQEJSTAJQ5jmBXhZ298Gi3gjFWaFRtlgpQnWSmBVIlorkAAwodU0qpXKgljS/4hrq9XFReo0x7xI4P0R0Nl30Ol8xK67h97csXfYg+qcaIFlPV7MsYTk/dNN4QYzWuwcUx4iqTLTIv5mJrXARWNZlsI57mEyGSOKIsRhTBpU5u6V2y8DZiTi0idnXipJEkTkF5o7H/HyxoTUNKJZ/OqLLftLExodBilJQCj7su1DqP8m/A2Qf8ASuxBmgQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"Challenge",title:"",src:"/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-48538.png",srcSet:["/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-bed0f.png 200w","/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-5fd34.png 400w","/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-48538.png 800w","/static/challenges-7091a71b8a8e1c19a36aecfcd60d7761-fa216.png 973w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Hitting the floor of our front end, the last thing to look at is the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Challenges"}]},{type:"text",value:" page. We use "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Jinaj2"}]},{type:"text",value:" and "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Flask"}]},{type:"text",value:" to render parts of page based on a users context such as; "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Is_Admin"}]},{type:"text",value:" or "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Is_Logged_In"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Achieved easily by using some simple conditionals and passing the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Session"}]},{type:"text",value:" object into the template."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"html"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-html"]},children:[{type:"element",tagName:"code",properties:{className:["language-html"]},children:[{type:"text",value:"{% if session.logged_in %}\n  "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"h2"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"Submit Flag"},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"h2"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"div"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"form-group"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:'\n      {{ render_field(form.flag, class_="form-control") }}\n    '},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"div"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{
type:"text",value:"<"}]},{type:"text",value:"p"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"input"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"class"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"btn btn-success"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"type"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"submit"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","attr-name"]},children:[{type:"text",value:"value"}]},{type:"element",tagName:"span",properties:{className:["token","attr-value"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"="}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]},{type:"text",value:"Submit"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:'"'}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"p"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"form"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n    {% if article.ch_id == 1 %}\n     "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"<!-- Youre very close but Im a little more tricky than that. -->"}]},{type:"text",value:"\n    {% endif %}\n\n   {% if session.admin %}\n     "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"h2"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:" Admin panel "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"h2"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n   {% endif %}\n\n   {% else %}\n\n     "},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"<"}]},{type:"text",value:"p"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:" {{message}}"},{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","tag"]},children:[{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"</"}]},{type:"text",value:"p"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:">"}]}]},{type:"text",value:"\n\n{% endif %}"}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"h4",properties:{},children:[{type:"text",value:"Logged out view"}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-33242.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 37.230769230769226%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA/klEQVQoz43Q20rDQBCA4byEIuKVvVBf0wNYpS/l4VK90KKktLHYRNgmaZLNqWl2f7eJSEFiHfhY9jDDzFrHAzgyeldweKnp9TUnA83eGeyeaoNOO8b+ucm/Nvl9OLgAy/Ulb84nIi5JK0hKiApt1lb8rd3zc74p3nhvBcLDGb1SZBJdV6jVku7QbAtLpDCLIVxE+OECMff5mLnILMPLBdPEa+SrsqmnlEbpbtazW3I3ypk4U8YTB9u2ubm9Z/zu8CSGPM6HPIgX4qVsezRJf7GqIiWLA8IgIJKF+a+29bquf024rVhTMM8LEpkaslmzvGwvWY+gqFVtqH8VW/sCd5UHQGBsGn8AAAAASUVORK5CYII='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"chal_logedout.png",title:"",src:"/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-48538.png",srcSet:["/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-bed0f.png 200w","/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-5fd34.png 400w","/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-48538.png 800w","/static/chal_loggedout-884fd47b8743fd0ba557f46b204dd1e1-33242.png 975w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Logged in view"}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/challenge1-a6180c748447014b20ee874a8b1910c8-cd303.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 60.10050251256281%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz51STUvDQBTs//cveBI8eBX11qoIilpUEOnBtMlquon5aJLmq7vJ7ri7QlFISeyDOQR2Jm9m3igMIzxMn5CmGfS0bQshBKSUEFJsob+HzIhtKhRZjLquwTkHY2znYy3ah9E8kpgsAOJ6mNsOLMvC5dUNbJdgGr7ienlvkLHciIo+wWRdwqExqOfB8wPQYAVKfURxjKRIUTQVcl6iVbYHWW44Q12VyPM1ypqh4Dv9DrP8FQR4m83gkA8QQjRzMPk3DE9vKLmyIowGmqZRDcvenLqgeWZDO/vExL1DxWvzE30yQsp/4Y/grf+Mg5dDlV3xExXk4JvrLEU1AqaO2s8LuJQa20NvrrOUR7fB+fgd8dkFkqWn49xbzAiOVbEnpwSbo2OIaLXdbt/5BrlNqawtt24NAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"challenge1.png",title:"",src:"/static/challenge1-a6180c748447014b20ee874a8b1910c8-48538.png",srcSet:["/static/challenge1-a6180c748447014b20ee874a8b1910c8-bed0f.png 200w","/static/challenge1-a6180c748447014b20ee874a8b1910c8-5fd34.png 400w","/static/challenge1-a6180c748447014b20ee874a8b1910c8-48538.png 800w","/static/challenge1-a6180c748447014b20ee874a8b1910c8-cd303.png 995w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Tests"}]},{type:"text",value:"\n"},{type:"element",tagName:"blockquote",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"Test coverage"}]},{type:"text",value:" — a measure used to describe the degree to which the source code of a program is executed when a particular test suite runs."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"We have two kinds of test coverage at play here. "}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"PyTest            - Used before committing code, based off the example laid out in the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Flask"}]},{type:"text",value:" tutorial."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/pytest-3412364dc9474bdf614a1be96ae6629b-11b75.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 11.08910891089109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAT0lEQVQI12PQ9A1X9QqWdfaVsPeUdvQWt/OQdPAStXHjNLLlMbXnNrHnNLYFISNbKAMJMUg7eUs7+XAZ2zFomTBqmzFAkJYpAaRtxmRsAwAW9xNG0rikKQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"Pytest",title:"",src:"/static/pytest-3412364dc9474bdf614a1be96ae6629b-48538.png",srcSet:["/static/pytest-3412364dc9474bdf614a1be96ae6629b-bed0f.png 200w","/static/pytest-3412364dc9474bdf614a1be96ae6629b-5fd34.png 400w","/static/pytest-3412364dc9474bdf614a1be96ae6629b-48538.png 800w","/static/pytest-3412364dc9474bdf614a1be96ae6629b-b70ec.png 1200w","/static/pytest-3412364dc9474bdf614a1be96ae6629b-11b75.png 1515w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{start:2},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"UnitTest/Selenium - Used post deployment to check renders and verify page content."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/selenium-ac04564d5424c05a9026fd1b764c8dec-65f29.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 634px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 53.94321766561514%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABxklEQVQoz4WSW1MaQRCF9ynRGDRGEHBR0LBkgIXZq3u/IETWMmqVlar8/19y7OmVEhNSefhqZmG655w+o91PFqiMHIVhojAFSimQjSbIex7WowzLyxCLi2tmdRXhdpjyb97RGG7jO9zD92jlIEChu1j2Y6yIhR4i63hclLQlrdFro4TJzhwEJybiU7mDObSk56AkNUXP5SZp1+KiQveQ00XluY+cvqPmDHFrTioE5P432AcGnM+jd9iElug2fvn3eJgt8exUeHYr/A5+8v52GONJ/sAj/bfok2W6sKIx3ImCm28aW1to8ZkFNceH6Q3WRsZqIzqsuD6eIO1YbF0pLdiJR5ansD4NueGfaN7JhAvVIbV6RwL+lzHjNJQNg1ENNmqUvToEsbXWe1IoETYpYd1H0rQRfZXIux4P2fwwwHzv6o2Pr9BeXbALbSVS3I0KrISPtfRR2T6ySxP+8ZQCsjk5FYgaQdIm+zSCqDX7t+VYt2hupO6cnkJ/jHggEOqCFaqU045dNyKyrsMvQO3VG+R0G1vUKVusoOwFSE/pcMvGzUXI6pQ9uU9K/lIz5Llunso2WtCewaYCp6GGT3M4qOEAdlj6Hy+jiETcVTCFcQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"Pytest",title:"",src:"/static/selenium-ac04564d5424c05a9026fd1b764c8dec-65f29.png",srcSet:["/static/selenium-ac04564d5424c05a9026fd1b764c8dec-9ddeb.png 200w","/static/selenium-ac04564d5424c05a9026fd1b764c8dec-73ce1.png 400w","/static/selenium-ac04564d5424c05a9026fd1b764c8dec-65f29.png 634w"],sizes:["(max-width:","634px)","100vw,","634px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Oh would you look at that, a failure. We changed the "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"About"}]},{type:"text",value:" page to be "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Rules"}]},{type:"text",value:" so we need to change our tests to match, hence the second one succeeding. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/drake_tests-12597075f944493f0bc7f35e136f337b-0975d.jpg",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 89.74609375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQFAgP/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAAHx2YbCItclnwdUKqwKL//EAB0QAAICAQUAAAAAAAAAAAAAAAEDAAISBBEhMjP/2gAIAQEAAQUCzxuo7rEYQAnlQl++k8Z//8QAFhEAAwAAAAAAAAAAAAAAAAAAAxAy/9oACAEDAQE/ASyjSv/EABgRAAIDAAAAAAAAAAAAAAAAAAMQAREh/9oACAECAQE/AQ7NoC//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARMYH/2gAIAQEABj8CE1GWxUjBnY//xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMVEQQXGhwf/aAAgBAQABPyFz6cbEok4lBZcoQ6VDYFZPUFiwnr/Jh8uP/9oADAMBAAIAAwAAABCcCHz/xAAaEQACAgMAAAAAAAAAAAAAAAABEBEhMYHB/9oACAEDAQE/ECkKhYddX//EABkRAAMAAwAAAAAAAAAAAAAAAAEQIRExgf/aAAgBAgEBPxAxFiLbi//EAB0QAQADAAIDAQAAAAAAAAAAAAEAESExURBBofD/2gAIAQEAAT8QV9KE0qYzRAHxMurm3JUmBlGHcqECEo1s9jr6qJ5XMR+B34//2Q=='); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"Drake on unit tests",title:"",src:"/static/drake_tests-12597075f944493f0bc7f35e136f337b-78f2b.jpg",srcSet:["/static/drake_tests-12597075f944493f0bc7f35e136f337b-dce19.jpg 200w","/static/drake_tests-12597075f944493f0bc7f35e136f337b-c1413.jpg 400w","/static/drake_tests-12597075f944493f0bc7f35e136f337b-78f2b.jpg 800w","/static/drake_tests-12597075f944493f0bc7f35e136f337b-0975d.jpg 1024w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"For those familiar with test driven development — the above picture probably made you twitch a little, but after debugging failed tests you begin to understand how the creator mustve felt."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"You can run Selenium headless, which works great if we want to shove it into a CI/CD pipeline in order to validate our deployments."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Otherwise running it with the Chrome Driver we can see the tests iterating over our application."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"img",properties:{src:"/chromdriver-e6b9f0facd4cbb33b14f82051357143a.gif",alt:"db results"},children:[]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Each suite has its own structure and fixtures you can use to simplify to your testing, just go with what fits your use caser best.. "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"In general it can be difficult to wrap your head around unit tests but by working them into your code you will be able to prevent against "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Undefined"}]},{type:"text",value:" behavior, which in alot of cases leads to security issues. My unit tests don’t hit 100% code coverage but in an ideal world that is what we would want to strive for. "}]},{type:"text",value:"\n"},{type:"element",tagName:"hr",properties:{},children:[]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"To be continued"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"This post was dragging on quite a bit so check out part 2 for the remaining topics"}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Databases"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Ansible"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Terraform"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Coming soon!"}]}],data:{quirksMode:!1}},fields:{slug:"/ezctf-full-stack/",prefix:"2018-11-21"},frontmatter:{title:"EZCTF, a full stack webapp..",subTitle:"Capture The Flag!",cover:{childImageSharp:{resize:{src:"/static/flag-ff09fe35bd7eb34796926ab3eac9392d-160fa.png"}}}}},author:{id:"/home/laiuppa/Desktop/fisctf/blog/content/parts/author.md absPath of file >>> MarkdownRemark",html:"<p>If you have any feedback feel free to @ me on twitter, Im always looking to learn.  <strong>-AL</strong></p>"},footnote:{id:"/home/laiuppa/Desktop/fisctf/blog/content/parts/footnote.md absPath of file >>> MarkdownRemark",html:"<!--* built by [greg lobinski](https://www.greglobinski.com) -->"},site:{siteMetadata:{facebook:{appId:""}}}},pathContext:{slug:"/ezctf-full-stack/"}}}});
//# sourceMappingURL=path---ezctf-full-stack-20cf046d0190e8de358d.js.map